import { useState } from "react";
import { PiWarningOctagon } from "@/components/Common/UnifiedIconPack";
import ReportModal from "@/components/User/ReportModal";
import { getIsLoggedIn } from "@/redux/reducer/authSlice";
import { useSelector } from "react-redux";
import { setIsLoginOpen } from "@/redux/reducer/globalStateSlice";
import { t } from "@/utils";
const AdsReportCard = ({ productDetails, setProductDetails }) => {
  const [isReportModalOpen, setIsReportModalOpen] = useState(false);
  const isLoggedIn = useSelector(getIsLoggedIn);

  const handleReportAd = () => {
    if (!isLoggedIn) {
      setIsLoginOpen(true);
      return;
    }
    setIsReportModalOpen(true);
  };

  return (
    <div className="flex flex-col border rounded-lg ">
      <div className="flex items-center gap-2 p-4">
        <div className="bg-[#DC354514] rounded-full p-2">
        <svg xmlns="http://www.w3.org/2000/svg" viewBox="0 0 16 16" id="Bug-Fill--Streamline-Mingcute-Fill" height="26" width="26">
  <g fill="none" fill-rule="evenodd">
    <path d="M16 0v16H0V0h16ZM8.395333333333333 15.505333333333333l-0.007333333333333332 0.0013333333333333333 -0.047333333333333324 0.023333333333333334 -0.013333333333333332 0.0026666666666666666 -0.009333333333333332 -0.0026666666666666666 -0.047333333333333324 -0.023333333333333334c-0.006666666666666666 -0.0026666666666666666 -0.012666666666666666 -0.0006666666666666666 -0.016 0.003333333333333333l-0.0026666666666666666 0.006666666666666666 -0.011333333333333334 0.2853333333333333 0.003333333333333333 0.013333333333333332 0.006666666666666666 0.008666666666666666 0.06933333333333333 0.049333333333333326 0.009999999999999998 0.0026666666666666666 0.008 -0.0026666666666666666 0.06933333333333333 -0.049333333333333326 0.008 -0.010666666666666666 0.0026666666666666666 -0.011333333333333334 -0.011333333333333334 -0.2846666666666666c-0.0013333333333333333 -0.006666666666666666 -0.005999999999999999 -0.011333333333333334 -0.011333333333333334 -0.011999999999999999Zm0.17666666666666667 -0.07533333333333334 -0.008666666666666666 0.0013333333333333333 -0.12333333333333332 0.062 -0.006666666666666666 0.006666666666666666 -0.002 0.007333333333333332 0.011999999999999999 0.2866666666666666 0.003333333333333333 0.008 0.005333333333333333 0.004666666666666666 0.134 0.062c0.008 0.0026666666666666666 0.015333333333333332 0 0.019333333333333334 -0.005333333333333333l0.0026666666666666666 -0.009333333333333332 -0.02266666666666667 -0.4093333333333333c-0.002 -0.008 -0.006666666666666666 -0.013333333333333332 -0.013333333333333332 -0.014666666666666665Zm-0.4766666666666666 0.0013333333333333333a0.015333333333333332 0.015333333333333332 0 0 0 -0.018 0.004l-0.004 0.009333333333333332 -0.02266666666666667 0.4093333333333333c0 0.008 0.004666666666666666 0.013333333333333332 0.011333333333333334 0.016l0.009999999999999998 -0.0013333333333333333 0.134 -0.062 0.006666666666666666 -0.005333333333333333 0.0026666666666666666 -0.007333333333333332 0.011333333333333334 -0.2866666666666666 -0.002 -0.008 -0.006666666666666666 -0.006666666666666666 -0.12266666666666666 -0.06133333333333333Z" stroke-width="0.6667"></path>
    <path fill="#0ab6af" d="M5.113333333333333 3.6666666666666665A3.332 3.332 0 0 1 8 2a3.332 3.332 0 0 1 2.8866666666666667 1.6666666666666665L11.466666666666665 4.666666666666666H4.533333333333333l0.5793333333333333 -1Zm-2.7446666666666664 0.40399999999999997a0.6666666666666666 0.6666666666666666 0 0 1 0.8939999999999999 0.298c0.09799999999999999 0.1953333333333333 0.3333333333333333 0.44933333333333336 0.6486666666666666 0.6599999999999999C4.235333333333333 5.244666666666666 4.520666666666666 5.333333333333333 4.666666666666666 5.333333333333333h6.666666666666666c0.146 0 0.43133333333333335 -0.08866666666666667 0.7553333333333333 -0.30466666666666664 0.31599999999999995 -0.21066666666666667 0.5506666666666666 -0.4646666666666666 0.6486666666666666 -0.6599999999999999a0.6666666666666666 0.6666666666666666 0 1 1 1.192 0.596c-0.2353333333333333 0.47133333333333327 -0.6666666666666666 0.884 -1.1013333333333333 1.1733333333333333a3.6533333333333333 3.6533333333333333 0 0 1 -0.6439999999999999 0.344c0.1933333333333333 0.474 0.33266666666666667 0.984 0.4106666666666666 1.518H14a0.6666666666666666 0.6666666666666666 0 1 1 0 1.3333333333333333h-1.3413333333333333a6.663333333333332 6.663333333333332 0 0 1 -0.4933333333333333 2.218c0.3813333333333333 0.22 0.6419999999999999 0.5733333333333333 0.806 0.9A3.6666666666666665 3.6666666666666665 0 0 1 13.333333333333332 14a0.6666666666666666 0.6666666666666666 0 1 1 -1.3333333333333333 0c0 -0.24933333333333332 -0.06733333333333333 -0.6439999999999999 -0.22133333333333333 -0.952 -0.08666666666666667 -0.17333333333333334 -0.17333333333333334 -0.2726666666666666 -0.25666666666666665 -0.32666666666666666 -0.704 0.9906666666666666 -1.6926666666666668 1.6933333333333334 -2.8553333333333333 1.89V8.666666666666666a0.6666666666666666 0.6666666666666666 0 1 0 -1.3333333333333333 0v5.9446666666666665c-1.1626666666666665 -0.19666666666666666 -2.151333333333333 -0.9 -2.8553333333333333 -1.8893333333333333 -0.08399999999999999 0.05333333333333333 -0.16999999999999998 0.15333333333333332 -0.25666666666666665 0.32666666666666666A2.3419999999999996 2.3419999999999996 0 0 0 4 14a0.6666666666666666 0.6666666666666666 0 1 1 -1.3333333333333333 0 3.6666666666666665 3.6666666666666665 0 0 1 0.362 -1.548c0.16399999999999998 -0.32799999999999996 0.42466666666666664 -0.6799999999999999 0.806 -0.9A6.6626666666666665 6.6626666666666665 0 0 1 3.341333333333333 9.333333333333332H2a0.6666666666666666 0.6666666666666666 0 1 1 0 -1.3333333333333333h1.4053333333333333a6.521333333333333 6.521333333333333 0 0 1 0.4106666666666666 -1.518 3.655333333333333 3.655333333333333 0 0 1 -0.6439999999999999 -0.344c-0.434 -0.28933333333333333 -0.8666666666666667 -0.702 -1.1013333333333333 -1.1733333333333333a0.6666666666666666 0.6666666666666666 0 0 1 0.298 -0.8939999999999999Z" stroke-width="0.6667"></path>
  </g>
</svg>
        </div>
        <p className="text-base">{t("reportItmLabel")}</p>
      </div>
      <div className="border-b w-full"></div>
      <div className="flex p-4 justify-between">
        <div className="flex items-center gap-2">
          <p className="text-base font-medium">{t("adId")}</p>
          <p className="text-base font-medium"> #{productDetails?.id}</p>
        </div>
        <button
          className=" bg-muted text-primary font-semibold py-1 px-2 rounded-md text-sm"
          onClick={handleReportAd}
        >
          {t("reportAd")}
        </button>
      </div>
      <ReportModal
        productDetails={productDetails}
        setProductDetails={setProductDetails}
        isReportModalOpen={isReportModalOpen}
        setIsReportModalOpen={setIsReportModalOpen}
      />
    </div>
  );
};

export default AdsReportCard;
